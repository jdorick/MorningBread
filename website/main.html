<!DOCTYPE html>
<html>
    <head>
        <title>MorningBread</title>
        <link rel="icon" href="placeholder_image.png">
        <link href="style.css" type="text/css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <h1><a href='main.html' class='active'>MorningBread</a></h1>
        <ul class="navigation">
            <div class="topnav">
                <div class="search-container">
                    <input type="text" placeholder="Search for news..." name="search">
                    <button type="submit"><i class="fa fa-search"></i></button>
                </div>
            </div>
            <div class='date-container'>
                <li><a id='currentDate'>Date</a></li>
            </div>
            <li><a href='profile.html' id='profile'>Profile</a></li>
        </ul>
        <div class="ticker-container">
            <div class="time-display">
                <li><a id='currentTime'>Time</a></li>
            </div>
            <div class="ticker-wrapper">
                <div class="ticker">
                    <div class="ticker-item">
                        <span class="symbol">DLTR</span>
                        <span class="name">Dollar Tree, Inc.</span>
                        <span class="price">128.23</span>
                        <span class="change negative">-21.46</span>
                        <span class="change-percent negative">-14.34%</span>
                    </div>
                    <br>
                    <div class="ticker-item">
                        <span class="symbol">SQ</span>
                        <span class="name">Block, Inc.</span>
                        <span class="price">85.94</span>
                        <span class="change positive">+4.23</span>
                        <span class="change-percent positive">+5.18%</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="article-section">
            <div class="featured-article">
              <h1>Article Headline</h2>
              <div class="article-preview">
                <img src="placeholder_image.png" alt="Article Image">
                <div>
                  <p class="article-summary">Article summary...</p>
                  <a href="#" class="article-link">Link...</p>
                  <a class="read-more-link">Show Summary</a>
                </div>
              </div>
            </div>
            <div class="secondary-articles">
              <h1>Article Headline</h2>
              <div class="article-preview">
                <img src="placeholder_image.png" alt="Article Image">
                <div>
                  <p class="article-summary">Article summary...</p>
                  <a href="#" class="article-link">Link...</p>
                  <a class="read-more-link">Show Summary</a>
                </div>
              </div>
            </div>
            <!-- Dynamically added articles will be added below -->
            <div id="dynamic-articles"></div>
          </div>
        <footer>
            <a href='https://github.com/maxbshaw17/MorningBread' target='_blank'>
                <img src='https://cdn-icons-png.flaticon.com/512/25/25231.png' height="36">
            </a>
            <h3><a href='contact.html' class='active'>Contact Us</a></h3>
        </footer>
        <script src="articles.js" defer></script>
        <script>
            // Function to update the current time
            function updateTime() {
                var currentTimeElement = document.getElementById('currentTime');
                var currentTime = new Date();
                var options = { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true };
                currentTimeElement.innerText = currentTime.toLocaleTimeString(undefined, options);
            }

            // Call updateTime function nearly immediately
            setInterval(updateTime, 0);

            // Update the current date
            var currentDateElement = document.getElementById('currentDate');
            var currentDate = new Date();
            var options = { year: 'numeric', month: 'long', day: 'numeric' };
            currentDateElement.innerText = currentDate.toLocaleDateString(undefined, options);

            // Get all "Read More" links
            const readMoreLinks = document.querySelectorAll('.read-more-link');

            // Add click event listener to each link
            readMoreLinks.forEach(link => {
                link.addEventListener('click', () => {
                    // Get the article summary element
                    const articleSummary = link.parentNode.querySelector('.article-summary');
                    // Get the article link element
                    const articleLink = link.parentNode.querySelector('.article-link');

                    // Toggle the display of the article summary and link
                    articleSummary.style.display = articleSummary.style.display === 'none' ? 'block' : 'none';
                    articleLink.style.display = articleLink.style.display === 'none' ? 'inline' : 'none';

                    // Update the link text
                    link.textContent = articleSummary.style.display === 'none' ? 'Show Summary' : 'Hide Summary';
                });
            });
        </script>
    </body>
</html>
